<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <title>Datamaps Testing</title>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
  <script  src="http://datamaps.github.io/scripts/datamaps.usa.min.js"></script>

</head>
<body>
  <h3>Datamap Test</h3>
  <div id="map" style="position: relative; width: 600px; height: 300px;">
    <!-- Map container -->
    <p>Sample Text</p>
  </div>

  <!-- JS libraries -->
  <script>

    var map = new Datamap({
      element: document.getElementById('map'),
      scope: 'usa',
      fills: {
        defaultFill: 'rgba(23,42,110,0.9)' // Any hex, color name or rgb/rgba value
      },
      data: {
        CA: {
          numThings: {{stateCount["CA"]}},
          dems: {{parties["CA"]["democrats"]}},
          reps: {{parties["CA"]["republicans"]}},
          indeps: {{parties["CA"]["independants"]}}
        },
        TX: {
          numThings: {{stateCount["TX"]}},
          dems: {{parties["TX"]["democrats"]}},
          reps: {{parties["TX"]["republicans"]}},
          indeps: {{parties["TX"]["independants"]}}
        },
        FL: {
          numThings: {{stateCount["FL"]}},
          dems: {{parties["FL"]["democrats"]}},
          reps: {{parties["FL"]["republicans"]}},
          indeps: {{parties["FL"]["independants"]}}
        },
        NY: {
          numThings: {{stateCount["NY"]}},
          dems: {{parties["NY"]["democrats"]}},
          reps: {{parties["NY"]["republicans"]}},
          indeps: {{parties["NY"]["independants"]}}
        },
        PA: {
          numThings: {{stateCount["PA"]}},
          dems: {{parties["PA"]["democrats"]}},
          reps: {{parties["PA"]["republicans"]}},
          indeps: {{parties["PA"]["independants"]}}
        },
        IL: {
          numThings: {{stateCount["IL"]}},
          dems: {{parties["IL"]["democrats"]}},
          reps: {{parties["IL"]["republicans"]}},
          indeps: {{parties["IL"]["independants"]}}
        },
        OH: {
          numThings: {{stateCount["OH"]}},
          dems: {{parties["OH"]["democrats"]}},
          reps: {{parties["OH"]["republicans"]}},
          indeps: {{parties["OH"]["independants"]}}
        },
        GA: {
          numThings: {{stateCount["GA"]}},
          dems: {{parties["GA"]["democrats"]}},
          reps: {{parties["GA"]["republicans"]}},
          indeps: {{parties["GA"]["independants"]}}
        },
        MI: {
          numThings: {{stateCount["MI"]}},
          dems: {{parties["MI"]["democrats"]}},
          reps: {{parties["MI"]["republicans"]}},
          indeps: {{parties["MI"]["independants"]}}
        },
        NC: {
          numThings: {{stateCount["NC"]}},
          dems: {{parties["NC"]["democrats"]}},
          reps: {{parties["NC"]["republicans"]}},
          indeps: {{parties["NC"]["independants"]}}
        },
        NJ: {
          numThings: {{stateCount["NJ"]}},
          dems: {{parties["NJ"]["democrats"]}},
          reps: {{parties["NJ"]["republicans"]}},
          indeps: {{parties["NJ"]["independants"]}}
        },
        VA: {
          numThings: {{stateCount["VA"]}},
          dems: {{parties["VA"]["democrats"]}},
          reps: {{parties["VA"]["republicans"]}},
          indeps: {{parties["VA"]["independants"]}}
        },
        WA: {
          numThings: {{stateCount["WA"]}},
          dems: {{parties["WA"]["democrats"]}},
          reps: {{parties["WA"]["republicans"]}},
          indeps: {{parties["WA"]["independants"]}}
        },
        TN: {
          numThings: {{stateCount["TN"]}},
          dems: {{parties["TN"]["democrats"]}},
          reps: {{parties["TN"]["republicans"]}},
          indeps: {{parties["TN"]["independants"]}}
        },
        IN: {
          numThings: {{stateCount["IN"]}},
          dems: {{parties["IN"]["democrats"]}},
          reps: {{parties["IN"]["republicans"]}},
          indeps: {{parties["IN"]["independants"]}}
        },
        AZ: {
          numThings: {{stateCount["AZ"]}},
          dems: {{parties["AZ"]["democrats"]}},
          reps: {{parties["AZ"]["republicans"]}},
          indeps: {{parties["AZ"]["independants"]}}
        },
        MA: {
          numThings: {{stateCount["MA"]}},
          dems: {{parties["MA"]["democrats"]}},
          reps: {{parties["MA"]["republicans"]}},
          indeps: {{parties["MA"]["independants"]}}
        },
        AL: {
          numThings: {{stateCount["AL"]}},
          dems: {{parties["AL"]["democrats"]}},
          reps: {{parties["AL"]["republicans"]}},
          indeps: {{parties["AL"]["independants"]}}
        },
        MO: {
          numThings: {{stateCount["MO"]}},
          dems: {{parties["MO"]["democrats"]}},
          reps: {{parties["MO"]["republicans"]}},
          indeps: {{parties["MO"]["independants"]}}
        },
        WI: {
          numThings: {{stateCount["WI"]}},
          dems: {{parties["WI"]["democrats"]}},
          reps: {{parties["WI"]["republicans"]}},
          indeps: {{parties["WI"]["independants"]}}
        },
        MD: {
          numThings: {{stateCount["MD"]}},
          dems: {{parties["MD"]["democrats"]}},
          reps: {{parties["MD"]["republicans"]}},
          indeps: {{parties["MD"]["independants"]}}
        },
        SC: {
          numThings: {{stateCount["SC"]}},
          dems: {{parties["SC"]["democrats"]}},
          reps: {{parties["SC"]["republicans"]}},
          indeps: {{parties["SC"]["independants"]}}
        },
        MN: {
          numThings: {{stateCount["MN"]}},
          dems: {{parties["MN"]["democrats"]}},
          reps: {{parties["MN"]["republicans"]}},
          indeps: {{parties["MN"]["independants"]}}
        },
        CO: {
          numThings: {{stateCount["CO"]}},
          dems: {{parties["CO"]["democrats"]}},
          reps: {{parties["CO"]["republicans"]}},
          indeps: {{parties["CO"]["independants"]}}
        },
        LA: {
          numThings: {{stateCount["LA"]}},
          dems: {{parties["LA"]["democrats"]}},
          reps: {{parties["LA"]["republicans"]}},
          indeps: {{parties["LA"]["independants"]}}
        },
        KY: {
          numThings: {{stateCount["KY"]}},
          dems: {{parties["KY"]["democrats"]}},
          reps: {{parties["KY"]["republicans"]}},
          indeps: {{parties["KY"]["independants"]}}
        },
        OR: {
          numThings: {{stateCount["OR"]}},
          dems: {{parties["OR"]["democrats"]}},
          reps: {{parties["OR"]["republicans"]}},
          indeps: {{parties["OR"]["independants"]}}
        },
        CT: {
          numThings: {{stateCount["CT"]}},
          dems: {{parties["CT"]["democrats"]}},
          reps: {{parties["CT"]["republicans"]}},
          indeps: {{parties["CT"]["independants"]}}
        },
        OK: {
          numThings: {{stateCount["OK"]}},
          dems: {{parties["OK"]["democrats"]}},
          reps: {{parties["OK"]["republicans"]}},
          indeps: {{parties["OK"]["independants"]}}
        },
        KS: {
          numThings: {{stateCount["KS"]}},
          dems: {{parties["KS"]["democrats"]}},
          reps: {{parties["KS"]["republicans"]}},
          indeps: {{parties["KS"]["independants"]}}
        },
        NV: {
          numThings: {{stateCount["NV"]}},
          dems: {{parties["NV"]["democrats"]}},
          reps: {{parties["NV"]["republicans"]}},
          indeps: {{parties["NV"]["independants"]}}
        },
        AR: {
          numThings: {{stateCount["AR"]}},
          dems: {{parties["AR"]["democrats"]}},
          reps: {{parties["AR"]["republicans"]}},
          indeps: {{parties["AR"]["independants"]}}
        },
        UT: {
          numThings: {{stateCount["UT"]}},
          dems: {{parties["UT"]["democrats"]}},
          reps: {{parties["UT"]["republicans"]}},
          indeps: {{parties["UT"]["independants"]}}
        },
        IA: {
          numThings: {{stateCount["IA"]}},
          dems: {{parties["IA"]["democrats"]}},
          reps: {{parties["IA"]["republicans"]}},
          indeps: {{parties["IA"]["independants"]}}
        },
        MS: {
          numThings: {{stateCount["MS"]}},
          dems: {{parties["MS"]["democrats"]}},
          reps: {{parties["MS"]["republicans"]}},
          indeps: {{parties["MS"]["independants"]}}
        },
        NE: {
          numThings: {{stateCount["NE"]}},
          dems: {{parties["NE"]["democrats"]}},
          reps: {{parties["NE"]["republicans"]}},
          indeps: {{parties["NE"]["independants"]}}
        },
        WV: {
          numThings: {{stateCount["WV"]}},
          dems: {{parties["WV"]["democrats"]}},
          reps: {{parties["WV"]["republicans"]}},
          indeps: {{parties["WV"]["independants"]}}
        },
        NM: {
          numThings: {{stateCount["NM"]}},
          dems: {{parties["NM"]["democrats"]}},
          reps: {{parties["NM"]["republicans"]}},
          indeps: {{parties["NM"]["independants"]}}
        },
        ID: {
          numThings: {{stateCount["ID"]}},
          dems: {{parties["ID"]["democrats"]}},
          reps: {{parties["ID"]["republicans"]}},
          indeps: {{parties["ID"]["independants"]}}
        },
        ME: {
          numThings: {{stateCount["ME"]}},
          dems: {{parties["ME"]["democrats"]}},
          reps: {{parties["ME"]["republicans"]}},
          indeps: {{parties["ME"]["independants"]}}
        },
        RI: {
          numThings: {{stateCount["RI"]}},
          dems: {{parties["RI"]["democrats"]}},
          reps: {{parties["RI"]["republicans"]}},
          indeps: {{parties["RI"]["independants"]}}
        },
        MT: {
          numThings: {{stateCount["MT"]}},
          dems: {{parties["MT"]["democrats"]}},
          reps: {{parties["MT"]["republicans"]}},
          indeps: {{parties["MT"]["independants"]}}
        },
        HI: {
          numThings: {{stateCount["HI"]}},
          dems: {{parties["HI"]["democrats"]}},
          reps: {{parties["HI"]["republicans"]}},
          indeps: {{parties["HI"]["independants"]}}
        },
        NH: {
          numThings: {{stateCount["NH"]}},
          dems: {{parties["NH"]["democrats"]}},
          reps: {{parties["NH"]["republicans"]}},
          indeps: {{parties["NH"]["independants"]}}
        },
        WY: {
          numThings: {{stateCount["WY"]}},
          dems: {{parties["WY"]["democrats"]}},
          reps: {{parties["WY"]["republicans"]}},
          indeps: {{parties["WY"]["independants"]}}
        },
        DE: {
          numThings: {{stateCount["DE"]}},
          dems: {{parties["DE"]["democrats"]}},
          reps: {{parties["DE"]["republicans"]}},
          indeps: {{parties["DE"]["independants"]}}
        },
        ND: {
          numThings: {{stateCount["ND"]}},
          dems: {{parties["ND"]["democrats"]}},
          reps: {{parties["ND"]["republicans"]}},
          indeps: {{parties["ND"]["independants"]}}
        },
        VT: {
          numThings: {{stateCount["VT"]}},
          dems: {{parties["VT"]["democrats"]}},
          reps: {{parties["VT"]["republicans"]}},
          indeps: {{parties["VT"]["independants"]}}
        },
        AK: {
          numThings: {{stateCount["AK"]}},
          dems: {{parties["AK"]["democrats"]}},
          reps: {{parties["AK"]["republicans"]}},
          indeps: {{parties["AK"]["independants"]}}
        },
        SD: {
          numThings: {{stateCount["SD"]}},
          dems: {{parties["SD"]["democrats"]}},
          reps: {{parties["SD"]["republicans"]}},
          indeps: {{parties["SD"]["independants"]}}
        },
        GU: {
          numThings: {{stateCount["GU"]}},
          dems: {{parties["GU"]["democrats"]}},
          reps: {{parties["GU"]["republicans"]}},
          indeps: {{parties["GU"]["independants"]}}
        },
        PR: {
          numThings: {{stateCount["PR"]}},
          dems: {{parties["PR"]["democrats"]}},
          reps: {{parties["PR"]["republicans"]}},
          indeps: {{parties["PR"]["independants"]}}
        },
        DC: {
          numThings: {{stateCount["DC"]}},
          dems: {{parties["DC"]["democrats"]}},
          reps: {{parties["DC"]["republicans"]}},
          indeps: {{parties["DC"]["independants"]}}
        },
        VI: {
          numThings: {{stateCount["VI"]}},
          dems: {{parties["VI"]["democrats"]}},
          reps: {{parties["VI"]["republicans"]}},
          indeps: {{parties["VI"]["independants"]}}
        },
        AS: {
          numThings: {{stateCount["AS"]}},
          dems: {{parties["AS"]["democrats"]}},
          reps: {{parties["AS"]["republicans"]}},
          indeps: {{parties["AS"]["independants"]}}
        },
        MP: {
          numThings: {{stateCount["MP"]}},
          dems: {{parties["MP"]["democrats"]}},
          reps: {{parties["MP"]["republicans"]}},
          indeps: {{parties["MP"]["independants"]}}
        }
      },
      geographyConfig: {
        popupTemplate: function(geo, data) {
          return ['<div class="hoverinfo"><strong>',
                  'Number of Members in ' + geo.properties.name,
                  ': ' + data.numThings,'</strong>',
                  '<p>', 'Democrats: ' + data.dems, '</p>',
                  '<p>', 'Republicans: ' + data.reps, '</p>',
                  '<p>', 'Independants: ' + data.indeps, '</p>',
                  '</div>',
                  ].join('');
        }
      }
    });
  </script>

</body>
